{"version":3,"sources":["webparts/odManagment/components/services/Modals/ApproverDashboard.tsx"],"names":[],"mappings":"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","file":"webparts/odManagment/components/services/Modals/ApproverDashboard.js","sourcesContent":["import * as React from 'react';\nimport styles from '../../OdManagment.module.scss';\nimport { IOdManagmentProps } from '../interfaces/IOdManagmentProps';\n//import { Route, HashRouter, Routes } from 'react-router-dom';\nimport EmployeeOps from '../BAL/EmployeeOps';\nimport ODMOps from '../BAL/ODMOps';\nimport { IEmployee } from '../interfaces/IEmployee';\nimport { SelectionMode } from '@pnp/spfx-controls-react';\nimport { compareAsc, format } from \"date-fns\";\nimport { Label } from 'office-ui-fabric-react/lib/Label';\nimport {\n    Pivot,\n    PivotItem,\n    PivotLinkSize,\n    PivotLinkFormat\n} from 'office-ui-fabric-react/lib/Pivot';\nimport DashboardApproved from './dashboardApproved'\nimport DashboardPending from './dashboardPending';\nimport { Link } from 'react-router-dom';\nimport { TextField, Icon, DetailsList, DetailsListLayoutMode, IColumn, Fabric, DefaultButton, PrimaryButton, DatePicker, Dropdown, IDropdownOption } from 'office-ui-fabric-react';\nexport default class ApproverDashboard extends React.Component<IOdManagmentProps, {}> {\n\n    private columns: IColumn[];\n    private data: any[];\n    public state = {\n        data: [],\n        pendingOD: [],\n        approvedOD: []\n    }\n    constructor(props: IOdManagmentProps) {\n        super(props);\n        this.state = {\n            data: [],\n            pendingOD: [],\n            approvedOD: []\n        },\n            // Column Defs\n            this.columns = [\n                {\n                    key: 'EmployeeID',\n                    name: 'EmployeeID',\n                    fieldName: 'EmployeeID',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n\n                        return <div>{item.EmployeeID.Title}</div>;\n                    },\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'EmployeeID',\n                    name: 'Employee Name',\n                    fieldName: 'EmployeeID',\n                    minWidth: 100,\n                    maxWidth: 200,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n\n                        return <div>{item.EmployeeID.EmployeeName}</div>;\n                    },\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'FromDate',\n                    name: 'FromDate',\n                    fieldName: 'FromDate',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n\n                        return <div>{format(item['FromDate'], \"MM/DD/YYYY\")}</div>;\n                    },\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'Todate',\n                    name: 'Todate',\n                    fieldName: 'Todate',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n\n                        return <div>{format(item['Todate'], \"MM/DD/YYYY\")}</div>;\n                    },\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'Category',\n                    name: 'Category',\n                    fieldName: 'Category',\n                    minWidth: 100,\n                    maxWidth: 150,\n                    isResizable: true,\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'ApproverResponse',\n                    name: 'Approver Response',\n                    fieldName: 'ApproverResponse',\n                    minWidth: 50,\n                    maxWidth: 150,\n                    isResizable: true,\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'Approve', name: 'Approve', fieldName: 'ID', minWidth: 50, maxWidth: 200, isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n                        const ItemId = item['ID'];\n                        return <div>\n                            <Link to={'/ApproveForm/' + ItemId}><Icon iconName='Accept' /></Link>\n                        </div>;\n                    },\n                    headerClassName: 'tableHead'\n                },\n                {\n                    key: 'View', name: 'View', fieldName: 'ID', minWidth: 50, maxWidth: 150, isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n                        const ItemId = item['ID'];\n                        return <div>\n                            <Link to={'/ViewForm/' + ItemId}><Icon iconName='View' /></Link>\n                        </div>;\n                    },\n                    headerClassName: 'tableHead'\n                }\n            ];\n    }\n    componentDidMount(): void {\n        this.getEmployeeData();\n    }\n\n    getEmployeeData = async (): Promise<IEmployee> => {\n\n        return await EmployeeOps().getEmployee(this.props).then(brrResults => {\n            if (brrResults) {\n                this.setState({\n                    EmployeeName: (brrResults.FirstName + brrResults.LastName),\n                    EmployeeCode: brrResults.EmployeeTitle,\n                    Designation: brrResults.Designation,\n                    ApproverNameId: brrResults.LeaveLevel2Id,\n                    ApproverName: brrResults.LeaveLevel2,\n                    SubGroup: brrResults.SubGroup,\n                    OfficeLocation: brrResults.CurrentOfficeLocation\n                });\n            }\n            ODMOps().getApprovals(this.props, brrResults.Title).then(response => {\n                this.setState({ data: response.filter(user => user.ApproverResponse == \"Pending\")});\n                //console.log(response);\n                this.setState({ approvedOD: response.filter(user => user.ApproverResponse == \"Approved\")});\n                this.setState({ pendingOD: response.filter(user => user.ApproverResponse == \"Rejected\")});\n            });\n            return brrResults;\n\n        });\n    };\n    public render(): React.ReactElement<IOdManagmentProps> {\n\n        return (\n            <div className=\"container-fluid\" >\n                <Pivot linkSize={PivotLinkSize.large} linkFormat={PivotLinkFormat.tabs}>\n                    <PivotItem linkText='Pending for Approval'>\n                        <hr></hr>\n                        <DetailsList\n                            columns={this.columns}\n                            items={this.state.data}\n                            selectionMode={SelectionMode.none}\n                            layoutMode={DetailsListLayoutMode.justified}\n                        />\n                    </PivotItem>\n                    <PivotItem linkText='Approved Requests'>\n                        <DashboardApproved approvedOD={this.state.approvedOD}></DashboardApproved>\n                    </PivotItem>\n                    <PivotItem linkText='Rejected Requests'>\n                        <DashboardPending pendingOD={this.state.pendingOD}></DashboardPending>\n                    </PivotItem>\n                </Pivot>\n            </div >\n        );\n    }\n}\n"],"sourceRoot":"../../../../../../src"}