{"version":3,"sources":["webparts/odManagment/components/services/Modals/Dashboard.tsx"],"names":[],"mappings":"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","file":"webparts/odManagment/components/services/Modals/Dashboard.js","sourcesContent":["import * as React from 'react';\nimport styles from '../../OdManagment.module.scss';\nimport { IOdManagmentProps } from '../interfaces/IOdManagmentProps';\n//import { Route, HashRouter, Routes } from 'react-router-dom';\nimport EmployeeOps from '../BAL/EmployeeOps';\nimport ODMOps from '../BAL/ODMOps';\nimport { IEmployee } from '../interfaces/IEmployee';\nimport { SelectionMode } from '@pnp/spfx-controls-react';\nimport { compareAsc, format } from \"date-fns\";\nimport { Label } from 'office-ui-fabric-react/lib/Label';\nimport {\n    Pivot,\n    PivotItem,\n    PivotLinkSize,\n    PivotLinkFormat\n} from 'office-ui-fabric-react/lib/Pivot';\nimport DashboardApproved from './dashboardApproved'\nimport DashboardPending from './dashboardPending';\nimport { Link} from 'react-router-dom';\nimport { TextField, Icon, DetailsList, DetailsListLayoutMode, IColumn, Fabric, DefaultButton, PrimaryButton, DatePicker, Dropdown, IDropdownOption } from 'office-ui-fabric-react';\nexport default class ODMDashboard extends React.Component<IOdManagmentProps, {}> {\n\n    private columns: IColumn[];\n    private data: any[];\n    public state = {\n        data: [],\n        pendingOD:[],\n        approvedOD:[],\n        rejectedOD:[],\n    }\n    constructor(props: IOdManagmentProps) {\n        super(props);\n        this.state = {\n            data: [],\n            pendingOD:[],\n            approvedOD:[],\n            rejectedOD:[],\n        },\n            // Column Defs\n            this.columns = [\n                {\n                    key: 'EmployeeID',\n                    name: 'EmployeeID',\n                    fieldName: 'EmployeeID',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n        \n                        return <div>{item.EmployeeID.Title}</div>;\n                    },\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'EmployeeID',\n                    name: 'Employee Name',\n                    fieldName: 'EmployeeID',\n                    minWidth: 100,\n                    maxWidth: 200,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n        \n                        return <div>{item.EmployeeID.EmployeeName}</div>;\n                    },\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'FromDate',\n                    name: 'FromDate',\n                    fieldName: 'FromDate',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n        \n                        return <div>{format(item['FromDate'], \"MM/DD/YYYY\")}</div>;\n                    },\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'Todate',\n                    name: 'Todate',\n                    fieldName: 'Todate',\n                    minWidth: 50,\n                    maxWidth: 100,\n                    isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n        \n                        return <div>{format(item['Todate'], \"MM/DD/YYYY\")}</div>;\n                    },\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'Category',\n                    name: 'Category',\n                    fieldName: 'Category',\n                    minWidth: 100,\n                    maxWidth: 200,\n                    isResizable: true,\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'ApproverResponse',\n                    name: 'Approver Response',\n                    fieldName: 'ApproverResponse',\n                    minWidth: 50,\n                    maxWidth: 150,\n                    isResizable: true,\n                    headerClassName:'tableHead'\n                },\n                {\n                    key: 'View', name: 'View', fieldName: 'ID', minWidth: 50, maxWidth: 200, isResizable: true,\n                    onRender: (item: any, index: number, columns: IColumn) => {\n                        const ItemId = item['ID'];\n                        return <div>\n                            {/* <Link  onClick={() => { console.log('clicked', ItemId); }}><Icon iconName='View' /></Link>  */}\n                            <Link to={'/ViewForm/' +ItemId}><Icon iconName='View' /></Link>\n                            </div>;\n                    },\n                    headerClassName:'tableHead'\n                }\n            ];\n    }\n    componentDidMount(): void {\n        this.getEmployeeData();\n        // EmployeeOps().getUserProfile(this.props).then(results => {\n        //     console.log(results);\n        // });\n\n    }\n    \n    getEmployeeData = async (): Promise<IEmployee> => {\n\n        return await EmployeeOps().getEmployee(this.props).then(brrResults => {\n            if (brrResults) {\n                this.setState({\n                    EmployeeName: (brrResults.FirstName + brrResults.LastName),\n                    EmployeeCode: brrResults.EmployeeTitle,\n                    Designation: brrResults.Designation,\n                    ApproverNameId: brrResults.LeaveLevel2Id,\n                    ApproverName: brrResults.LeaveLevel2,\n                    SubGroup: brrResults.SubGroup,\n                    OfficeLocation: brrResults.CurrentOfficeLocation\n                });\n            }\n            //this.props.employeeID=brrResults.Title;\n            ODMOps().getMyOD(this.props, brrResults.Title).then(dataReceived => {\n                this.setState({ data: dataReceived });\n                let datafilter = dataReceived.filter(user => user.ApproverResponse == \"Pending\");\n                this.setState({ pendingOD: datafilter });\n                let datafilter1 = dataReceived.filter(user => user.ApproverResponse == \"Approved\");\n                this.setState({ approvedOD: datafilter1});\n                let datafilter2 = dataReceived.filter(user => user.ApproverResponse == \"Rejected\");\n                this.setState({ rejectedOD: datafilter2});\n            });\n            return brrResults;\n\n        });\n    };\n    public render(): React.ReactElement<IOdManagmentProps> {\n\n        return (\n            <div className=\"container-fluid\" >\n                <div className='text-right'><Link className=\"btn btn-primary\" to=\"/NewForm\"><Icon iconName='CircleAdditionSolid' /> Create New Request </Link></div>\n                <div className='mt-n4 '>\n                <Pivot linkSize={PivotLinkSize.normal} linkFormat={ PivotLinkFormat.tabs }>\n                    <PivotItem linkText='My Requests'>\n                        <hr></hr>\n                        <DetailsList\n                            columns={this.columns}\n                            items={this.state.data}\n                            selectionMode={SelectionMode.none}\n                            layoutMode={DetailsListLayoutMode.justified}\n                        />\n                    </PivotItem>\n                    <PivotItem linkText='Approved Requests'>\n                        <DashboardApproved approvedOD={this.state.approvedOD}></DashboardApproved>\n                    </PivotItem>\n                    <PivotItem  linkText='Pending Requests'>\n                       <DashboardPending pendingOD={this.state.pendingOD}></DashboardPending>\n                    </PivotItem>\n                    <PivotItem  linkText='Rejected Requests'>\n                       <DashboardPending pendingOD={this.state.rejectedOD}></DashboardPending>\n                    </PivotItem>\n                </Pivot></div>\n            </div >\n        );\n    }\n}\n"],"sourceRoot":"../../../../../../src"}